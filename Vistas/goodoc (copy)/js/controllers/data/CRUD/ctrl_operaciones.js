function ctrl_operaciones($scope,$filter,conexion,catalogos){catalogos.get_operaciones($scope);$scope.operacion_add=function(){if($scope.myForm.$valid){conexion.operaciones_add({"usuario":$scope.usr_global,"operacion":$scope.operacion},function(data){if(data.exito){ejecutaAlerta(1,"Se registro correctamente la operación");setTimeout(function(){document.getElementById("myForm").reset();},1000);}else{ejecutaAlerta(2,'Ocurrió un error: '+data.estatus);}},function(error){ejecutaAlerta(2,'Ocurrió un error al guardar la operacion: '+error.status);})}else{$scope.myForm.submitted=true;}}
$scope.operacion_select=null;$scope.acto_add=function(){if($scope.operacion_select==null){$scope.autocomFlag=true;return;}else{$scope.operacion=$scope.operacion_select.originalObject;$scope.autocomFlag=false;}
$scope.suboperacion.operacion=$scope.operacion;conexion.actos_add({"usuario":$scope.usr_global,"suboperacion":$scope.suboperacion,},function(data){if(data.exito){ejecutaAlerta(1,"Se registro correctamente la operación");$scope.suboperacion={};$scope.operacion_select={};$("#ex1_value").val("");}else{ejecutaAlerta(2,'Ocurrió un error: '+data.estatus);}},function(error){ejecutaAlerta(2,'Ocurrió un error al guardar la operacion: '+error.status);});}}