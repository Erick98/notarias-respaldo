<!--<loadscript url="ctrl_frm_dinamico.js"></loadscript>-->
<div ng-controller="ctrl_frm_dinamico"> <div id="tab-container" class="tab-container"> <ul class='etabs'> <li class='tab'><a href="#tb_data">Datos del formulario</a></li><li class='tab'><a href="#tb_content">Configuraci&oacute;n del formulario</a></li></ul> <div class="panel-container"> <div id="tb_data"> <div class="contentInputs"> <div class="colum colums2"> <label>Nombre del formulario</label> <input type="text" ng-model="conformulario.dstitulo" placeholder="Ingresar nombre del formulario"/> </div><div class="colum colums4"> <label>Localidad</label> <div class="wrap_select"> <select ng-model="conformulario.locacion" ng-options="loc as loc.dselemento for loc in locacion"> <option value="" disabled selected>--Seleccione--</option> </select> </div></div></div><div class="contentInputs"> <div class="colum colums2"> <label>Nombre corto del formulario</label> <input type="text" ng-model="conformulario.dsnombrecorto" placeholder="Ingresar nombre del formulario"/> </div><div class="colum colums4"> <label>Tipo de formulario</label> <div class="wrap_select"> <select ng-model="conformulario.tipoform" ng-init="conformulario.tipoform='E'"> <option selected value="E">Inmueble</option> <option selected value="D">Antecedentes</option> <option selected value="O">Operaci&oacute;n</option> </select> </div></div></div><div class="contentInputs"> <div class="colum colums1"> <label>Descripci&oacute;n del formulario</label> <input type="text" ng-model="conformulario.dsdescripcion" placeholder="Ingresar nombre del formulario"/> </div></div><div class="contentInputs"> <div class="colum colums2"> <label>Permiso de los roles que utilizar&aacute;n el formulario</label> <div class="btn-form"> <div class="wrap_select"> <select ng-model="rol_select" id="roles_select" name="rol_select" ng-options="rol as rol.dsnombre for rol in roles | orderBy:'dsnombre'"> <option value="" disabled selected>--Seleccione una opci&oacute;n--</option> </select> </div></div></div><div class="colum colums4"> <div class="btn-rounded btn-form" ng-click="add_rol(rol_select)"> <p><span>+</span> Agregar</p></div></div></div><div class="contentInputs" ng-show="conformulario.listaPermisosRol.length>0"> <table class="tableForm"> <tr> <th width="5%"> <span class="tbl_icon ico_documento"></span> </th> <th width="80%">Nombre del rol</th> <th width="5%"> <span class="tbl_icon ico_eye"></span> </th> <th width="5%"> <span class="tbl_icon ico_edit"></span> </th> <th width="5%"> <span class="tbl_icon ico_delete"></span> </th> <th width="5%"> </th> </tr><tr ng-repeat="frmrol in conformulario.listaPermisosRol | orderBy:'dsnombre' track by $index"> <td>{{$index+1}}</td><td>{{frmrol.rol.dsnombre}}</td><td> <input type="checkbox" ng-true-value="1" ng-false-value="0" ng-model="frmrol.inpermiso[0]"> </td><td> <input type="checkbox" ng-true-value="1" ng-false-value="0" ng-model="frmrol.inpermiso[1]"> </td><td> <input type="checkbox" ng-true-value="1" ng-false-value="0" ng-model="frmrol.inpermiso[2]"> </td><td> <span class="tbl_icon ico_delete" ng-click="del_rol($index,frmrol)"></span> </td></tr></table> </div><div class="contentInputs"> <div class="colum colums2"> <label>Actos que lo usan</label> <div class="btn-form"> <div class="wrap_select"> <select ng-model="acto_select" id="actos_select" name="acto_select" ng-options="acto as acto.dsnombre for acto in suboperaciones |orderBy:'dsnombre'"> <option value="" disabled selected>--Seleccione una opci&oacute;n--</option> </select> </div></div></div><div class="colum colums4"> <div class="btn-rounded btn-form" ng-click="add_acto(acto_select)"> <p><span>+</span> Agregar</p></div></div></div><div class="contentInputs"> <table class="tableForm" ng-show="conformulario.listaActoFormularios.length > 0"> <tr> <th width="5%"> <span class="tbl_icon ico_documento"></span> </th> <th width="90%">Nombre del acto que utilizar&aacute; el formulario</th> <th width="5%"> <span class="tbl_icon ico_delete"></span> </th> </tr><tr ng-repeat="acto in conformulario.listaActoFormularios"> <td>{{$index+1}}</td><td>{{acto.suboperacion.dsnombre}}</td><td> <span class="tbl_icon ico_delete" ng-click="del_acto($index,acto)"></span> </td></tr></table> </div><div class="contentInputs"> <div class="colum colums4"> &nbsp; </div><div class="colum colums4"> &nbsp; </div><div class="colum colums4"> <button class="btn-blue" onclick="$('.tab-container').easytabs('select','tb_content');">Siguiente</button> </div></div></div><div id="tb_content" class="pla_for_content"> <div class="wra_form_data" style="overflow: visible" ng-show="total_componentes > 0"> <div class="body_form_data nuevo_form" style="box-shadow:0 0 5px #7A6C5E"> <h2 ng-click="frm_content()">Vista previa del formulario</h2> <div id="wrap_componentes_vp"> </div></div></div><form name="myForm" id="myForm" novalidate ng-submit="agrega_componente()"> <div class="body_form_data nuevo_form" style="border:1px solid #ccc"> <h2>Generar nuevo componente</h2> <div class="contentInputs"> <div class="colum colums2"> <label>Tipo de campo</label> <div class="wrap_select"> <select id="tipo_campo" ng-model="com.tipocomponente" ng-options="com as com.dselemento for com in componentes |orderBy:'dselemento'" ng-init="com.tipocomponente=componentes[0]" ng-change="cambiaPlantilla()"> <option value="" disabled selected>--Seleccione una opci&oacute;n--</option><!-- <option value="text" selected>Campo de texto</option> <option value="fecha">Campo de fecha</option> <option value="lista">Nueva lista</option> <option value="header">Cabecera</option> <option value="subform">Sub-Formulario</option>--> </select> </div></div><div class="colum colums4 h_header" > <h3 >Es requerido</h3> <div > <div class="onoffswitch"> <input type="checkbox" name="isrequerido" ng-init="com.isrequerido=false" ng-model="com.isrequerido" class="onoffswitch-checkbox" id="isrequerido"> <label class="onoffswitch-label" for="isrequerido"> <div class="onoffswitch-inner"></div><div class="onoffswitch-switch"></div></label> </div></div></div></div><div class="contentInputs"> <div class="colum colums1"> <label>Etiqueta del campo</label> <input ng-model="com.dsetiqueta" type="text" placeholder="Ingresar nombre de la etiqueta"/> </div></div><div class="contentInputs h_header"> <div class="colum colums2"> <label>Ayuda</label> <input type="text" ng-model="com.dsayuda" placeholder="Ingresar nombre del formulario"/> </div><div class="colum colums4"> <label>Nombre variable</label> <input type="text" name="nombrevar" ng-model="com.dsnombrevariable" ng-pattern="/^[a-zA-Z _]*$/" placeholder="Ingresar nombre de la variable"/> <div class="tooltip" ng-show="myForm.submitted && myForm.nombrevar.$error.pattern">Solo letras y gui&oacute;n bajo permitidos</div></div></div><div id="wrap_form_componente" class="tit_H2" ng-include="$root.componente_dinamico"> <div class="contentInputs"> <div class="colum colums4"> <label>Longitud m&aacute;xima</label> <input type="text" ng-model="com.longitudmaxima"> </div><div class="colum colums2"> <label>Validaci&oacute;n en Regex</label> <input type="text" placeholder="Validaci&oacute;n con expresi&oacute;n regular" ng-model="com.dsexpresionvalidacion"> </div></div></div><div class="contentInputs"> <div class="colum colums4"> &nbsp; </div><div class="colum colums4"> &nbsp; </div><div class="colum colums4"> <button class="btn-rounded" type="submit" style="height: 40px!important"><p>Agregar componente</p></button> </div></div></div></form><div class="contentInputs"> <div class="colum colums4"> &nbsp; </div><div class="colum colums4"> <div class="btn-rounded" onclick="$('.tab-container').easytabs('select','tb_data');"><p>Cancelar</p></div></div><div class="colum colums4"> <button class="btn-blue" ng-click="guardar_formulario()">Guardar formulario</button> </div></div></div></div></div>
    <script>
        $('.tab-container').easytabs();

    </script>

