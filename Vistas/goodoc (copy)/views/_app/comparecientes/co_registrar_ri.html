<loadscript url=ctrl_ri_registro.js></loadscript><div ng-controller=ctrl_ri_registro><navexpediente></navexpediente><bienvenida></bienvenida><br><form id="regRi" name="regRi" action="" method="post" enctype="multipart/form-data"> <input name="idsesionactual" id="idsesionactualRi" type="hidden"> <input name="idusuario" id="idusuarioRi" type="hidden"> <input name="idcompareciente" id="idcompareciente" type="hidden"> <input name="idexpediente" id="idexpediente" type="hidden"> <input name="dsnombre" id="dsnombre" type="hidden"> <input name="idtramite" id="idtramiteRi" type="hidden"> <input name="idexpedidopor" id="idexpedidopor" type="hidden"> <input name="idtipodocumento" id="idtipodocumento" type="hidden"> <input name="isvalidadonotario" id="isvalidadonotario" type="hidden"> <div class="wra_form_data"> <div class="head_form_data"> <div class="contentInputs"> <div class="colum colums2" > <p>N° Expediente: <b>{{expediente.numexpediente}}</b></p></div><div class="colum colums2" > <div style="float:right;"> <p>Fecha de creaci&oacute;n: <b>{{expediente.fechainicial}}</b></p></div></div></div></div><div class="head_form_data"> <div class="colum colums3" > <p> <b>El notario conoce al compareciente</b> </p><p> <span>*</span> Seleccione esta opci&oacute;n cuando no se requiere un documento oficial para validar la identidad del firmante </p></div><div class="colum colums4" > <div style="float:right;"> <div class="onoffswitch"> <input ng-model="compareciente.registroRi.isvalidadonotario" ng-change="setValidaNot()" type="checkbox" name="isvalidadonotario_check" class="onoffswitch-checkbox" id="isvalidadonotario_check"> <label class="onoffswitch-label" for="isvalidadonotario_check"> <div class="onoffswitch-inner"></div><div class="onoffswitch-switch"></div></label> </div></div></div></div><div class="body_form_data"> <div class="contentInputs"> <div class="colum colums2"> <label>Nombre</label> <input type="text" disabled ng-model="compareciente.persona.dsnombrecompleto"/> </div><div class="colum colums2 vnot"> <label>Tipo de documento</label> <div class="wrap_select"> <select ng-model="compareciente.registroRi.tipo" ng-change="setDocumento()" ng-options="doc as doc.dselemento for doc in documentos_oficiales |orderBy:'dselemento'"> <option disabled value="">--Seleccione una opci&oacute;n</option> </select> </div></div></div><div class="contentInputs vnot"> <div class="colum colums2"> <label>N&uacute;mero / Clave</label> <input type="text" placeholder="Ingrese la informaci&oacute;n" ng-model="compareciente.registroRi.numclave" ng-blur="setClave()" name="numeroclave" id="numeroclave"/> </div><div class="colum colums2"> <label>Expendido por</label> <div class="wrap_select"> <select ng-model="compareciente.registroRi.expedidopor" ng-change="setExpedido()" ng-options="expedido as expedido.dselemento for expedido in instituciones_gobierno |orderBy:'dselemento'"> <option disabled value="" >--Seleccione una opci&oacute;n</option> </select> </div></div></div></div><div class="contentInputs vnot" style="margin-bottom:25px"> <div class="colum colums2" ng-show="compareciente.registroRi.dsruta && compareciente.registroRi.dsruta !=null" style="text-align: center; background:#efefef; border:1px solid #999"> <label>Vista previa</label><!--<iframe id="vistaPreviaIframe" style="float: left;width: 855px;height: 460px;margin-left: -208px;margin-top: -72px;" src=""></iframe> --> <img id="vistaPreviaIframe" style="width: 95%"> </div><div class="colum colums2" ng-hide="compareciente.registroRi.dsruta && compareciente.registroRi.dsruta !=null"> &nbsp; </div><div class="colum colums2"> <label>Elegir archivo</label> <input type="file" placeholder="Archivo adjunto" name="file" id="file" style="margin-left:30px"/> <div class="tooltip" id="tooltip_file" style="display:none;">Es requerido adjuntar un archivo</div></div></div></div><div class="contentInputs"> <div class="colum colums4"> &nbsp; </div><div class="colum colums4"> &nbsp; </div><div class="colum colums4"> <div class="btn-rounded" ng-click="goTo('/comparecientes')"><p>Cancelar</p></div></div><div class="colum colums4"> <button class="btn-blue" type="submit">Asignar</button> </div></div></form></div><script>var options={beforeSend: function(){modal.show();}, uploadProgress: function(event, position, total, percentComplete){}, success: function(){}, complete: function(data){modal.destroy();if(data.responseJSON.exito){ejecutaAlerta(1, "Se registró correctamente el documento"); setTimeout(function(){force_redirect("index.html#/comparecientes")}, 500)}else{ejecutaAlerta(2, "Ocurrió un error al guardar el registro:"+data.responseJSON.estatus);}}, error: function(error){alert("Algo malo paso al subir la imagen:"+error.status);}}; $("#regRi").submit( function(event){if ($("#isvalidadonotario").val()=="false"){/*if ($("#file").val()==""){$("#tooltip_file").fadeIn("slow"); event.preventDefault();}*/}}); $('#regRi').ajaxForm(options);</script>